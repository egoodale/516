<html>


<p>Input:<br><textarea id="input" rows="10" cols="80"></textarea>

<p><button onclick="process()">Process</button>

<p>Output:<br><textarea id="output" rows="10" cols="80"></textarea>



<script>



// this function will be invoked when the button is clicked

function process() {

  

  // get input text, put it in the variable "x"

  let x = document.getElementById("input").value;

  

  // do some processing

  // replace this line with what you need to do for the assignment

  //let y = x.toLowerCase();
  
//var res = str.toUpperCase();
//let message = prompt("Enter your text.");

  let cleanx = x.toUpperCase();
  cleanx = cleanx.replace(/[,.?!"]+/g, "");
  cleanx = cleanx.replace(/[\W]+/g, " ");
  let tokens = cleanx.split(" ");
  let types = [...new Set(tokens)];
  let ratio = (types.length/tokens.length);
  let count = 0;
  let freq = {};
  let typesCount = (types).length;
  for (let i = 0; i < types.length; i++){
    for (let j = 0; j < tokens.length; j++){
	  if (types[i] == tokens[j]){
	  console.log(true);
	    count++;	    
	  }
    }
	freq[types[i]] = count;
	count = 0;
	
	console.log(freq)

  }
	
  let sortedFreq = Object.keys(freq).sort(function(a,b){return freq[b]-freq[a]});
  let fd = "";
  for (let k = 0; k < sortedFreq.length; k++){
  fd += sortedFreq[k] + " " + freq[sortedFreq[k]] + "\n";
  fp = fd + "Type/Token Ratio:  " + ratio;
  }

  // populate the output text box with the value of the variable "y"

  document.getElementById("output").value = fp;

}




</script>

</html>